;==============================================================================
; png_image
;
;
;==============================================================================
pro png_image, filename, wnum=wnum, mono=mono, order=order

 if(defined(wnum)) then wset, wnum

 if(NOT keyword_set(order)) then order = 1 $
 else order = 0

 if(idl_v_chrono(!version.release) GT (idl_v_chrono('5.3'))) then order = 1-order

 if(keyword_set(mono)) then xx = tvrd(ch=1, order=order) $
 else $
  begin
   xx1 = tvrd(ch=1, order=order)
   xx2 = tvrd(ch=2, order=order)
   xx3 = tvrd(ch=3, order=order)
   xx = color_quan(xx1, xx2, xx3, r, g, b)
  end

 write_png, filename, xx, r, g, b


end
;==============================================================================
