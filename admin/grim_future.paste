;---------------------------------------------------------------
; Make data descriptor so we know which translators to use
; The blank image is for grim's sake.
;---------------------------------------------------------------
dd = nv_init_descriptor(inst='CAS_ISSNA', data=bytarr(1024,1024))

;---------------------------------------------------------------
; Get eph. time; need ls kernel
;---------------------------------------------------------------
spice_load, '$NV_SPICE_LSK/naif0008.tls'
time = spice_str2et('2008-001T00:00:00.00')


;-----------------------------------------------------------------------
; Get camera descriptor.  /pos because there's probably no C kernel
;-----------------------------------------------------------------------
cd = pg_get_cameras(dd, cam_time=time, '/pos');, $
;	cam_nx=1024, cam_ny=1024, $			; not necessary in newer version
;	cam_scale=[cas_nac_scale(), cas_nac_scale()], $	; not necessary in newer version
;	cam_oaxis=[511.5, 511.5])			; not necessary in newer version

;-----------------------------------------------------------------------
; Get planet descriptors so we can point the camera at saturn
;-----------------------------------------------------------------------
pd = pg_get_planets(dd, od=cd)

;-----------------------------------------------------------------------
; Point the camera at saturn
;-----------------------------------------------------------------------
w = where(cor_name(pd) EQ 'SATURN')
yy = v_unit(bod_pos(pd[w]) - bod_pos(cd))
xx = v_cross(yy, (bod_orient(pd[w]))[2,*])
zz = v_cross(xx, yy)
bod_set_orient, cd, [xx, yy, zz]

;-----------------------------------------------------------------------
; Shove it into grim
;-----------------------------------------------------------------------
grim, dd, cd=cd, pd=pd, over='planet_center'
