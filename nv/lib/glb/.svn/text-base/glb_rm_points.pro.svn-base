;===========================================================================
; glb_rm_points.pro
;
; Inputs and outputs are in body coordinates.
;
; Returns 0 if all points overlap the globe from perspective of the viewer at r.
;
;===========================================================================
function glb_rm_points, gbxp, r, points
 gbdp = class_extract(gbxp, 'GLOBE')

 nt = n_elements(gbdp)
 nv = (size(points))[1]

 rr = r[gen3y(nv,3,nt)]
 discriminant = glb_intersect_discriminant(gbdp, rr, points-rr)

 sub = where(discriminant GE 0)

 return, sub
end
;===========================================================================
