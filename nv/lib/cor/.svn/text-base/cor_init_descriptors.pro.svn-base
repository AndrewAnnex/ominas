;===========================================================================
; cor_init_descriptors
;
;
;===========================================================================
function cor_init_descriptors, n, crd=crd, $
@cor__keywords.include
end_keywords
@nv_lib.include

 if(NOT keyword_set(crd)) then crd=replicate({core_descriptor}, n)
 crd.class=decrapify(make_array(n, val='CORE'))

 for i=0, n-1 do $
  begin
   if(keyword_set(tasks)) then crd[i].tasks_p=ptr_new(tasks[*,i]) $
   else crd[i].tasks_p=ptr_new([''])
   crd[i].idp = ptr_new(1)
  end

 if(keyword_set(name)) then crd.name=decrapify(name)

 if(NOT keyword_set(user)) then user=make_array(n, val=get_username())
 crd.user=decrapify(user)

 crdp = ptrarr(n)
 nv_rereference, crdp, crd

 return, crdp
end
;===========================================================================



