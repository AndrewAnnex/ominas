;============================================================================
; map_get_grid_points
;
;============================================================================
function map_get_grid_points, lat=lat, lon=lon, nt=nt, $
                                 scan_lat=scan_lat, scan_lon=scan_lon
           
 Mt = make_array(nt, val=1)

 nplat = n_elements(scan_lat)
 nplon = n_elements(scan_lon)


 ;==============================
 ; generate latitude circles
 ;==============================
 nlat = n_elements(lat)
 np = nplon*nlat
 if(nlat GT 0) then $
  begin
   lats = reform([lat] # $
                     make_array(nplon, val=1), np, /overwrite)#Mt
   lons = reform([scan_lon]##make_array(nlat, val=1), np, /overwrite)#Mt

   rlat_surface = [tr(lats), tr(lons)]
  end


 ;==============================
 ; generate longitude circles
 ;==============================
 nlon = n_elements(lon)
 np = nplat*nlon
 if(nlon GT 0) then $
  begin
   lons = reform([lon] # $
                      make_array(nplat, val=1), np, /overwrite)#Mt
   lats = reform([scan_lat]##make_array(nlon, val=1), np, /overwrite)#Mt

   rlon_surface = [tr(lats), tr(lons)]
  end


 ;==================================
 ; Combine the results and return.
 ;==================================
 rgrid_surface = tr(append_array(tr(rlat_surface) , tr(rlon_surface)))

 return, rgrid_surface
end
;============================================================================
